<!DOCTYPE html>
<html lang="en" data-theme="dark">



<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>File Explorer - GitDev</title>

  <link rel="manifest" href="https://clockblocked.github.io/bytes/webApp/manifest.json">

  <!-- Global CSS -->
  <link rel="stylesheet" href="https://clockblocked.github.io/bytes/styleSheets/global/styles.css" />
  <link rel="stylesheet" href="https://clockblocked.github.io/bytes/styleSheets/codeMirror/styles.css" />

  <!-- jQuery 3.7.1 (Latest) -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js" 
          integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" 
          crossorigin="anonymous"></script>


  <!-- TailwindCSS -->
  <script src="https://cdn.tailwindcss.com"></script>


<!-- CodeMirror -->
<link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">


<link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/fold/foldgutter.min.css">
      
      
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
    
    
<link rel="stylesheet"
      href="https://clockblocked.github.io/bytes/styleSheets/codeMirror/themes/chatgpt.css">      


  <!-- CodeMirror modes -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/css/css.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/xml/xml.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/htmlmixed/htmlmixed.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/markdown/markdown.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/python/python.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/php/php.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/sql/sql.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/yaml/yaml.min.js"></script>

  <!-- CodeMirror addons -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/search/searchcursor.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/edit/closebrackets.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/edit/matchbrackets.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/selection/active-line.min.js"></script>

  <!-- Code folding -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/fold/foldcode.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/fold/foldgutter.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/fold/brace-fold.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/fold/comment-fold.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/fold/indent-fold.min.js"></script>

  <!-- Prism (only if you actually use it for static highlighting) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>

  <!-- Additional Libraries -->
  <script src="https://unpkg.com/@floating-ui/dom@1.5.4/dist/floating-ui.dom.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  
  
  
  
  
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            github: {
              'canvas-default': '#22272e',
              'tableHeader': '#2d333b',
              'canvas-overlay': '#2d333b',
              'canvas-inset': '#1c2128',
              'canvas-subtle': '#2d333b',
              'border-default': '#444c56',
              'border-muted': '#373e47',
              'neutral-emphasis': '#768390',
              'neutral-muted': '#636e7b',
              'fg-default': '#adbac7',
              'fg-muted': '#768390',
              'fg-subtle': '#545d68',
              'accent-fg': '#539bf5',
              'accent-emphasis': '#4184e4',
              'success-fg': '#57ab5a',
              'danger-fg': '#e5534b',
              'warning-fg': '#c69026',
              'btn-primary-bg': '#347d39',
              'btn-primary-hover': '#46954a',
              'btn-secondary-bg': '#373e47',
              'btn-secondary-hover': '#444c56'
            }
          },
          animation: {
            'fade-in': 'fadeIn 0.2s ease-out',
            'fade-out': 'fadeOut 0.2s ease-in',
            'slide-up': 'slideUp 0.3s ease-out',
            'slide-down': 'slideDown 0.3s ease-out',
            'scale-in': 'scaleIn 0.2s ease-out',
            'spin-slow': 'spin 1.5s linear infinite',
            'pulse-soft': 'pulseSoft 2s ease-in-out infinite',
          },
          keyframes: {
            fadeIn: {
              '0%': { opacity: '0' },
              '100%': { opacity: '1' }
            },
            fadeOut: {
              '0%': { opacity: '1' },
              '100%': { opacity: '0' }
            },
            slideUp: {
              '0%': { transform: 'translateY(20px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' }
            },
            slideDown: {
              '0%': { transform: 'translateY(-20px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' }
            },
            scaleIn: {
              '0%': { transform: 'scale(0.95)', opacity: '0' },
              '100%': { transform: 'scale(1)', opacity: '1' }
            },
            pulseSoft: {
              '0%, 100%': { opacity: '1' },
              '50%': { opacity: '0.7' }
            }
          }
        }
      }
    }
  </script>

<style>

.breadCrumbsWrapper {
  background-color: var(--overlay);
  border-bottom: 1px solid var(--border);
  padding: 12px 12px;
  transition: transform 0.3s ease-in-out;
  backdrop-filter: blur(8px);
  background-color: rgba(var(--overlay-rgb, 15 23 42), 0.8);
}

.breadCrumbsWrapper.hidden {
  transform: translateY(-100%);
}

.breadCrumbContainer {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 8px;
}

.breadCrumb {
  display: inline-flex;
  align-items: center;
  color: #94a3b8;
  font-size: 14px;
  font-weight: 500;
  line-height: 1.5;
  text-decoration: none;
  transition: color 0.2s ease;
  white-space: nowrap;
}

.breadCrumb:hover {
  color: #e2e8f0;
}

.breadCrumb.current {
  color: var(--text);
  font-weight: 500;
  pointer-events: none;
}

.navDivider {
  display: inline-flex;
  align-items: center;
  color: #475569;
  margin: 0;
}

.navDivider svg {
  width: 16px;
  height: 16px;
  fill: currentColor;
  flex-shrink: 0;
}





/* Add to your existing CSS */
.breadCrumbsWrapper {
  /* ...existing styles ...*/
  backdrop-filter: blur(8px) saturate(180%);
  -webkit-backdrop-filter: blur(8px) saturate(180%);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 
              0 2px 4px -1px rgba(0, 0, 0, 0.06);
  transition: transform 0.15s ease-out;
}

/* Ensure main navbar stays above */
.navbar {
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
}





/* to-do */
/* needs to be somewhere where base logic is */
.hide {
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px);
  transition: all 0.3s ease-in-out;
}



#fileName {
  position: absolute;
  right: 1rem;
}








</style>

<style id="overRide">
html {
  font-size: 13px !important;
}

* {
.no-scrollbar {
    &::-webkit-scrollbar {
        display: none;
    }

    -ms-overflow-style: none;
    scrollbar-width: none;
}

</style>



</head>
<body>

<style>
/* ================================================
   FLOATING NAVBAR & POPOVER MENU SYSTEM
   Premium Glass Morphism Design with Fluid Animations
   ================================================ */

:root {
  /* Color Palette */
  --nav-bg: rgba(34, 39, 46, 0.7);
  --nav-border: rgba(68, 76, 86, 0.5);
  --nav-item-hover: rgba(83, 155, 245, 0.1);
  --nav-item-active: rgba(83, 155, 245, 0.2);
  --nav-primary: #539bf5;
  --nav-success: #57ab5a;
  --nav-warning: #c69026;
  --nav-danger: #e5534b;
  --nav-info: #4184e4;
  
  /* Shadows */
  --nav-shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.1),
                   0 1px 3px rgba(0, 0, 0, 0.06);
  --nav-shadow-md: 0 4px 16px rgba(0, 0, 0, 0.15),
                   0 2px 6px rgba(0, 0, 0, 0.08);
  --nav-shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.2),
                   0 4px 12px rgba(0, 0, 0, 0.1);
  --nav-shadow-xl: 0 20px 60px rgba(0, 0, 0, 0.3),
                   0 8px 24px rgba(0, 0, 0, 0.15);
  
  /* Backdrop Blur */
  --blur-sm: blur(8px);
  --blur-md: blur(12px);
  --blur-lg: blur(16px);
  
  /* Timing */
  --timing-fast: 150ms;
  --timing-base: 300ms;
  --timing-slow: 500ms;
  
  /* Z-index Layers */
  --z-navbar: 1000;
  --z-menu: 1001;
  --z-overlay: 999;
}

/* ================================================
   ANIMATION KEYFRAMES
   ================================================ */

@keyframes menuOpen {
  0% {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  60% {
    transform: translateY(-5px) scale(1.02);
  }
  80% {
    transform: translateY(2px) scale(0.98);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes menuClose {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
}

@keyframes overlayFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes overlayFadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

@keyframes contentBlur {
  from {
    transform: scale(1);
    filter: blur(0);
    opacity: 1;
  }
  to {
    transform: scale(0.98);
    filter: blur(8px);
    opacity: 0.6;
  }
}

@keyframes contentUnblur {
  from {
    transform: scale(0.98);
    filter: blur(8px);
    opacity: 0.6;
  }
  to {
    transform: scale(1);
    filter: blur(0);
    opacity: 1;
  }
}

@keyframes ripple {
  from {
    transform: scale(0);
    opacity: 0.6;
  }
  to {
    transform: scale(2.5);
    opacity: 0;
  }
}

@keyframes slideUpFade {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ================================================
   FLOATING NAVBAR BASE
   ================================================ */

.floating-navbar {
  position: fixed;
  bottom: 24px;
  left: 50%;
  transform: translateX(-50%);
  width: 90%;
  max-width: 800px;
  z-index: var(--z-navbar);
  pointer-events: none;
}

.floating-nav-main {
  background: var(--nav-bg);
  backdrop-filter: var(--blur-md) saturate(180%);
  -webkit-backdrop-filter: var(--blur-md) saturate(180%);
  border: 1px solid var(--nav-border);
  border-radius: 24px;
  padding: 12px 16px;
  box-shadow: var(--nav-shadow-lg);
  display: flex;
  justify-content: space-around;
  align-items: center;
  gap: 8px;
  pointer-events: auto;
  transition: all var(--timing-base) cubic-bezier(0.34, 1.56, 0.64, 1);
}

.floating-navbar.menu-active .floating-nav-main {
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
  box-shadow: none;
}

/* ================================================
   NAVIGATION ITEMS
   ================================================ */

.nav-item {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 4px;
  padding: 12px 16px;
  background: transparent;
  border: none;
  border-radius: 16px;
  color: #adbac7;
  cursor: pointer;
  transition: all var(--timing-fast) ease;
  overflow: hidden;
  flex: 1;
  min-width: 0;
  outline: none;
}

.nav-item i {
  font-size: 20px;
  transition: all var(--timing-fast) ease;
}

.nav-label {
  font-size: 11px;
  font-weight: 500;
  letter-spacing: 0.3px;
  text-transform: uppercase;
  white-space: nowrap;
  transition: all var(--timing-fast) ease;
}

.nav-item:hover {
  background: var(--nav-item-hover);
  color: var(--nav-primary);
  transform: translateY(-2px);
}

.nav-item:active {
  transform: translateY(0);
}

.nav-item-primary {
  background: linear-gradient(135deg, var(--nav-primary), #4184e4);
  color: white;
  box-shadow: 0 4px 12px rgba(83, 155, 245, 0.3);
}

.nav-item-primary:hover {
  background: linear-gradient(135deg, #4184e4, var(--nav-primary));
  transform: translateY(-3px);
  box-shadow: 0 6px 16px rgba(83, 155, 245, 0.4);
}

.nav-item.active {
  background: var(--nav-item-active);
  color: var(--nav-primary);
}

/* Ripple Effect */
.ripple-container {
  position: absolute;
  inset: 0;
  overflow: hidden;
  border-radius: inherit;
  pointer-events: none;
}

.ripple {
  position: absolute;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  animation: ripple 600ms ease-out;
  pointer-events: none;
}

/* ================================================
   FLOATING OVERLAY
   ================================================ */

.floating-nav-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: var(--blur-sm);
  -webkit-backdrop-filter: var(--blur-sm);
  z-index: var(--z-overlay);
  opacity: 0;
  visibility: hidden;
  transition: all var(--timing-base) ease;
}

.floating-nav-overlay.active {
  opacity: 1;
  visibility: visible;
  animation: overlayFadeIn var(--timing-base) ease;
}

.floating-nav-overlay.closing {
  animation: overlayFadeOut var(--timing-base) ease;
}

/* ================================================
   POPOVER MENU
   ================================================ */

.floating-nav-menu {
  position: fixed;
  bottom: 24px;
  left: 50%;
  transform: translateX(-50%) translateY(20px) scale(0.95);
  width: 90%;
  max-width: 900px;
  max-height: 70vh;
  background: rgba(34, 39, 46, 0.95);
  backdrop-filter: var(--blur-lg) saturate(180%);
  -webkit-backdrop-filter: var(--blur-lg) saturate(180%);
  border: 1px solid var(--nav-border);
  border-radius: 24px 24px 0 0;
  box-shadow: var(--nav-shadow-xl);
  z-index: var(--z-menu);
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  will-change: transform, opacity;
  transition: none;
}

.floating-nav-menu.active {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  animation: menuOpen var(--timing-slow) linear(
    0, -0.001 2.6%, -0.004 4.9%, -0.01 7.1%, -0.02 9.4%, 
    -0.043 13.6%, -0.105 22.4%, -0.117 24.5%, -0.124 26.4%, 
    -0.128 28.5%, -0.126 30.5%, -0.118 32.3%, -0.104 34.1%, 
    -0.09 35.3%, -0.072 36.5%, -0.027 38.8%, 0.034 41%, 
    0.108 43.1%, 0.197 45.1%, 0.299 47%, 0.407 48.7%, 
    0.652 52.2%, 0.741 53.7%, 0.817 55.2%, 0.9 57.1%, 
    0.97 59.1%, 1.027 61.2%, 1.071 63.4%, 1.099 65.5%, 
    1.11 66.6%, 1.118 67.7%, 1.124 68.8%, 1.127 70%, 
    1.128 71.3%, 1.127 72.6%, 1.12 74.8%, 1.108 77.2%, 
    1.043 86.5%, 1.019 90.7%, 1.01 93%, 1.004 95.2%, 
    1.001 97.4%, 1
  );
  transform: translateX(-50%) translateY(0) scale(1);
}

.floating-nav-menu.closing {
  animation: menuClose var(--timing-base) cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Menu Container */
.menu-container {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
}

/* Menu Header */
.menu-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px 24px;
  border-bottom: 1px solid var(--nav-border);
  background: rgba(45, 51, 59, 0.5);
  backdrop-filter: var(--blur-sm);
  -webkit-backdrop-filter: var(--blur-sm);
  flex-shrink: 0;
}

.menu-title {
  font-size: 18px;
  font-weight: 600;
  color: #adbac7;
  margin: 0;
}

.menu-close {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: 1px solid var(--nav-border);
  border-radius: 8px;
  color: #adbac7;
  cursor: pointer;
  transition: all var(--timing-fast) ease;
}

.menu-close:hover {
  background: rgba(229, 83, 75, 0.1);
  border-color: var(--nav-danger);
  color: var(--nav-danger);
  transform: rotate(90deg);
}

/* Menu Content */
.menu-content {
  flex: 1;
  overflow-y: auto;
  padding: 24px;
  scroll-behavior: smooth;
}

.menu-content::-webkit-scrollbar {
  width: 8px;
}

.menu-content::-webkit-scrollbar-track {
  background: rgba(45, 51, 59, 0.3);
  border-radius: 4px;
}

.menu-content::-webkit-scrollbar-thumb {
  background: rgba(83, 155, 245, 0.3);
  border-radius: 4px;
}

.menu-content::-webkit-scrollbar-thumb:hover {
  background: rgba(83, 155, 245, 0.5);
}

/* ================================================
   MENU SECTIONS
   ================================================ */

.menu-section {
  margin-bottom: 32px;
  animation: slideUpFade var(--timing-base) ease;
  animation-fill-mode: both;
}

.menu-section:nth-child(1) { animation-delay: 50ms; }
.menu-section:nth-child(2) { animation-delay: 100ms; }
.menu-section:nth-child(3) { animation-delay: 150ms; }
.menu-section:nth-child(4) { animation-delay: 200ms; }
.menu-section:nth-child(5) { animation-delay: 250ms; }
.menu-section:nth-child(6) { animation-delay: 300ms; }

.section-title {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  font-weight: 600;
  color: #768390;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 16px;
}

.section-icon {
  font-size: 16px;
  color: var(--nav-primary);
}

.section-action {
  margin-left: auto;
  padding: 4px 8px;
  background: transparent;
  border: 1px solid var(--nav-border);
  border-radius: 6px;
  color: #768390;
  font-size: 12px;
  cursor: pointer;
  transition: all var(--timing-fast) ease;
}

.section-action:hover {
  background: var(--nav-item-hover);
  color: var(--nav-primary);
  border-color: var(--nav-primary);
}

/* ================================================
   PROFILE SECTION
   ================================================ */

.profile-card {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 20px;
  background: linear-gradient(135deg, rgba(83, 155, 245, 0.1), rgba(65, 132, 228, 0.05));
  border: 1px solid rgba(83, 155, 245, 0.2);
  border-radius: 16px;
  transition: all var(--timing-base) ease;
}

.profile-card:hover {
  background: linear-gradient(135deg, rgba(83, 155, 245, 0.15), rgba(65, 132, 228, 0.08));
  border-color: rgba(83, 155, 245, 0.3);
  transform: translateY(-2px);
  box-shadow: var(--nav-shadow-md);
}

.profile-avatar {
  width: 64px;
  height: 64px;
  border-radius: 50%;
  border: 3px solid var(--nav-primary);
  box-shadow: 0 0 20px rgba(83, 155, 245, 0.3);
}

.profile-info {
  flex: 1;
}

.profile-name {
  font-size: 18px;
  font-weight: 600;
  color: #adbac7;
  margin: 0 0 4px 0;
}

.profile-username {
  font-size: 14px;
  color: #768390;
  margin: 0 0 8px 0;
}

.profile-note {
  font-size: 12px;
  color: #636e7b;
  margin: 0;
  font-style: italic;
}

/* ================================================
   MENU GRID (Navigation & Quick Actions)
   ================================================ */

.menu-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 12px;
}

.menu-card {
  position: relative;
  display: flex;
  flex-direction: column;
  padding: 20px;
  background: rgba(45, 51, 59, 0.5);
  border: 1px solid var(--nav-border);
  border-radius: 12px;
  cursor: pointer;
  transition: all var(--timing-base) cubic-bezier(0.34, 1.56, 0.64, 1);
  overflow: hidden;
}

.menu-card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, rgba(83, 155, 245, 0.05), transparent);
  opacity: 0;
  transition: opacity var(--timing-base) ease;
}

.menu-card:hover {
  background: rgba(45, 51, 59, 0.7);
  border-color: var(--nav-primary);
  transform: translateY(-4px);
  box-shadow: var(--nav-shadow-md);
}

.menu-card:hover::before {
  opacity: 1;
}

.card-icon {
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(83, 155, 245, 0.1);
  border-radius: 12px;
  margin-bottom: 12px;
  transition: all var(--timing-base) ease;
}

.card-icon i {
  font-size: 24px;
  color: var(--nav-primary);
}

.menu-card:hover .card-icon {
  transform: scale(1.1) rotate(5deg);
  background: rgba(83, 155, 245, 0.2);
}

.card-icon-success {
  background: rgba(87, 171, 90, 0.1);
}

.card-icon-success i {
  color: var(--nav-success);
}

.card-icon-primary {
  background: rgba(65, 132, 228, 0.1);
}

.card-icon-primary i {
  color: var(--nav-info);
}

.card-icon-info {
  background: rgba(83, 155, 245, 0.1);
}

.card-icon-info i {
  color: var(--nav-primary);
}

.card-icon-warning {
  background: rgba(198, 144, 38, 0.1);
}

.card-icon-warning i {
  color: var(--nav-warning);
}

.card-content {
  flex: 1;
  position: relative;
}

.card-title {
  font-size: 15px;
  font-weight: 600;
  color: #adbac7;
  margin: 0 0 4px 0;
}

.card-description {
  font-size: 12px;
  color: #768390;
  margin: 0;
}

.card-badge {
  position: absolute;
  top: 0;
  right: 0;
  padding: 2px 8px;
  background: var(--nav-primary);
  color: white;
  font-size: 11px;
  font-weight: 600;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(83, 155, 245, 0.3);
}

/* ================================================
   RECENT FILES LIST
   ================================================ */

.recent-files-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.recent-file-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background: rgba(45, 51, 59, 0.3);
  border: 1px solid transparent;
  border-radius: 8px;
  cursor: pointer;
  transition: all var(--timing-fast) ease;
}

.recent-file-item:hover {
  background: rgba(45, 51, 59, 0.5);
  border-color: var(--nav-border);
  transform: translateX(4px);
}

.file-icon {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(83, 155, 245, 0.1);
  border-radius: 6px;
  flex-shrink: 0;
}

.file-icon i {
  font-size: 16px;
  color: var(--nav-primary);
}

.file-info {
  flex: 1;
  min-width: 0;
}

.file-name {
  font-size: 13px;
  font-weight: 500;
  color: #adbac7;
  margin: 0 0 2px 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.file-meta {
  font-size: 11px;
  color: #636e7b;
  margin: 0;
}

.file-action {
  color: #768390;
  font-size: 12px;
  opacity: 0;
  transition: opacity var(--timing-fast) ease;
}

.recent-file-item:hover .file-action {
  opacity: 1;
}

/* ================================================
   STATISTICS GRID
   ================================================ */

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 12px;
}

.stat-card {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px;
  background: rgba(45, 51, 59, 0.3);
  border: 1px solid var(--nav-border);
  border-radius: 12px;
  transition: all var(--timing-base) ease;
}

.stat-card:hover {
  background: rgba(45, 51, 59, 0.5);
  border-color: var(--nav-primary);
  transform: translateY(-2px);
  box-shadow: var(--nav-shadow-sm);
}

.stat-icon {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 10px;
  flex-shrink: 0;
}

.stat-icon i {
  font-size: 20px;
}

.stat-icon-files {
  background: linear-gradient(135deg, rgba(83, 155, 245, 0.2), rgba(83, 155, 245, 0.05));
}

.stat-icon-files i {
  color: var(--nav-primary);
}

.stat-icon-commits {
  background: linear-gradient(135deg, rgba(87, 171, 90, 0.2), rgba(87, 171, 90, 0.05));
}

.stat-icon-commits i {
  color: var(--nav-success);
}

.stat-icon-storage {
  background: linear-gradient(135deg, rgba(198, 144, 38, 0.2), rgba(198, 144, 38, 0.05));
}

.stat-icon-storage i {
  color: var(--nav-warning);
}

.stat-icon-branches {
  background: linear-gradient(135deg, rgba(229, 83, 75, 0.2), rgba(229, 83, 75, 0.05));
}

.stat-icon-branches i {
  color: var(--nav-danger);
}

.stat-content {
  flex: 1;
}

.stat-value {
  font-size: 20px;
  font-weight: 700;
  color: #adbac7;
  margin: 0 0 2px 0;
}

.stat-label {
  font-size: 11px;
  color: #768390;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin: 0;
}

/* ================================================
   TOOLS LIST
   ================================================ */

.tool-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.tool-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 16px;
  background: rgba(45, 51, 59, 0.3);
  border: 1px solid transparent;
  border-radius: 10px;
  cursor: pointer;
  transition: all var(--timing-fast) ease;
}

.tool-item:hover {
  background: rgba(45, 51, 59, 0.5);
  border-color: var(--nav-border);
  transform: translateX(4px);
}

.tool-icon {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(83, 155, 245, 0.1);
  border-radius: 8px;
  flex-shrink: 0;
}

.tool-icon i {
  font-size: 16px;
  color: var(--nav-primary);
}

.tool-content {
  flex: 1;
  min-width: 0;
}

.tool-title {
  font-size: 14px;
  font-weight: 600;
  color: #adbac7;
  margin: 0 0 2px 0;
}

.tool-description {
  font-size: 12px;
  color: #768390;
  margin: 0;
}

.tool-action {
  color: #768390;
  font-size: 12px;
  transition: all var(--timing-fast) ease;
}

.tool-item:hover .tool-action {
  color: var(--nav-primary);
  transform: translateX(2px);
}

/* ================================================
   CONTENT BLUR STATES
   ================================================ */

#mainArea.menu-active {
  animation: contentBlur var(--timing-base) ease forwards;
}

#mainArea.menu-closing {
  animation: contentUnblur var(--timing-base) ease forwards;
}

.navbar.menu-active {
  animation: contentBlur var(--timing-base) ease forwards;
}

.navbar.menu-closing {
  animation: contentUnblur var(--timing-base) ease forwards;
}

.breadCrumbsWrapper.menu-active {
  animation: contentBlur var(--timing-base) ease forwards;
}

.breadCrumbsWrapper.menu-closing {
  animation: contentUnblur var(--timing-base) ease forwards;
}

/* ================================================
   RESPONSIVE DESIGN
   ================================================ */

@media (max-width: 768px) {
  .floating-navbar {
    width: 95%;
    max-width: none;
    bottom: 16px;
  }
  
  .floating-nav-main {
    padding: 10px 12px;
    border-radius: 20px;
  }
  
  .nav-item {
    padding: 10px 12px;
    min-width: 60px;
  }
  
  .nav-item i {
    font-size: 18px;
  }
  
  .nav-label {
    font-size: 10px;
  }
  
  .floating-nav-menu {
    width: 95%;
    max-height: 75vh;
    bottom: 16px;
  }
  
  .menu-content {
    padding: 16px;
  }
  
  .menu-grid {
    grid-template-columns: 1fr;
  }
  
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 480px) {
  .nav-label {
    display: none;
  }
  
  .nav-item {
    padding: 12px;
  }
  
  .profile-card {
    flex-direction: column;
    text-align: center;
  }
  
  .stats-grid {
    grid-template-columns: 1fr;
  }
}

/* ================================================
   ACCESSIBILITY
   ================================================ */

.nav-item:focus-visible,
.menu-close:focus-visible,
.menu-card:focus-visible,
.tool-item:focus-visible {
  outline: 2px solid var(--nav-primary);
  outline-offset: 2px;
}

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ================================================
   PRINT STYLES
   ================================================ */

@media print {
  .floating-navbar,
  .floating-nav-overlay {
    display: none;
  }
}

/* ================================================
   LIGHT THEME SUPPORT
   ================================================ */

[data-theme="light"] {
  --nav-bg: rgba(255, 255, 255, 0.7);
  --nav-border: rgba(208, 215, 222, 0.5);
  --nav-item-hover: rgba(83, 155, 245, 0.08);
  --nav-item-active: rgba(83, 155, 245, 0.15);
}

[data-theme="light"] .floating-nav-menu {
  background: rgba(255, 255, 255, 0.95);
}

[data-theme="light"] .menu-title,
[data-theme="light"] .profile-name,
[data-theme="light"] .card-title,
[data-theme="light"] .tool-title,
[data-theme="light"] .stat-value {
  color: #24292f;
}

[data-theme="light"] .nav-item {
  color: #57606a;
}

[data-theme="light"] .section-title,
[data-theme="light"] .profile-username,
[data-theme="light"] .card-description,
[data-theme="light"] .tool-description,
[data-theme="light"] .stat-label {
  color: #656d76;
}
</style>



<!-------
     Progress Loading Bar
                      ------->
<div id="pageProgress" class="ph-progress page-progress">
    <div class="progress-bar">
      <div class="ph-fill progress-fill"></div>
    </div>
  </div>




<!-------
         Top NAVBar
                  ----------->
<nav class="navbar" aria-label="Main navigation">
  <div class="navbar-inner">
    
    <!-- Left Section -->
    <div class="navbar-section navbar-left">
      <button 
        id="leftSidebarTrigger" 
        class="navbar-button navbar-button-icon"
        aria-label="Toggle left sidebar menu"
        data-action="toggle-sidebar"
        data-target="left"
      >
        <i class="fas fa-bars"></i>
      </button>
      
      <a href="#" class="navbar-brand" aria-label="GitDev homepage">
        <i class="fab fa-github navbar-brand-icon"></i>
        <span class="navbar-brand-text">GitDev</span>
      </a>
    </div>

    <!-- Center Section (Search Button) -->
    <div class="navbar-section navbar-center">
      <button 
        onclick="showSearchModal()" 
        class="navbar-button navbar-button-search"
        aria-label="Search files"
        data-action="open-search"
        data-tooltip="Search files (Ctrl+K)"
      >
        <i class="fas fa-search navbar-button-icon"></i>
        <span class="navbar-button-label">Search</span>
        <kbd class="navbar-button-shortcut" aria-hidden="true">Ctrl+K</kbd>
      </button>
    </div>

    <!-- Right Section -->
    <div class="navbar-section navbar-right">


<!--      <button 
        class="navbar-button navbar-button-with-text"
        data-action="show-create-file"
        aria-label="Create new file"
      >
        <i class="fas fa-plus"></i>
        <span class="navbar-button-text">New</span>
      </button>
-->

<div class="relative inline-block" id="newDropdownContainer">
  <button class="navbar-button" id="newDropdownButton">
    New
    <svg class="chevron" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
      <path d="M4.427 7.427l3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 10.896 2H4.604a.25.25 0 0 0-.177.427Z"/>
    </svg>
  </button>
  <div id="newDropdownMenu" class="dropdown-menu hidden absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-github-canvas-default border border-github-border-default z-50">
    <div class="py-1">
      <button data-action="show-create-repo" class="dropdown-item block w-full text-left px-4 py-2 text-sm text-github-fg-default hover:bg-github-canvas-subtle">
        <i class="fas fa-folder mr-2"></i>
        Repository
      </button>
      <button data-action="show-create-file" class="dropdown-item block w-full text-left px-4 py-2 text-sm text-github-fg-default hover:bg-github-canvas-subtle">
        <i class="fas fa-file mr-2"></i>
        File
      </button>
      <button data-action="show-upload-modal" class="dropdown-item block w-full text-left px-4 py-2 text-sm text-github-fg-default hover:bg-github-canvas-subtle">
        <i class="fas fa-upload mr-2"></i>
        Upload
      </button>
      <button data-action="show-create-folder" class="dropdown-item block w-full text-left px-4 py-2 text-sm text-github-fg-default hover:bg-github-canvas-subtle">
        <i class="fas fa-folder-plus mr-2"></i>
        Folder
      </button>
    </div>
  </div>
</div>


      <button 
        class="navbar-button navbar-button-icon"
        data-action="toggle-theme"
        aria-label="Toggle dark/light theme"
        id="themeToggle"
      >
        <i id="themeIcon" class="fas fa-moon"></i>
      </button>
      
      <button 
        id="rightSidebarTrigger" 
        class="navbar-button navbar-button-icon"
        aria-label="Toggle right sidebar menu"
        data-action="toggle-sidebar"
        data-target="right"
      >
        <i class="fas fa-ellipsis-v"></i>
      </button>
    </div>
    
  </div>
</nav>

<div class="topBox">
    <!-- B R E A D C R U M B S -->
  <div class="breadCrumbsWrapper" id="breadCrumbsWrapper">
    <div class="breadCrumbsContainer" id="breadCrumbsContainer">
      <nav class="breadcrumbNav" id="pathBreadcrumb">
        <div class="breadCrumbContainer"></div>
      </nav>
    </div>
  </div>
</div>






<!--  P A G E  W R A P P E R 
===================================================
===================================================-->
<main id="mainArea">
  
  




<!-------
     Repository Selector View
                          ---->
<div
  data-page="repo"
  id="repoSelectorView"
  class="pages max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-6">


  <div class="flex items-center justify-between mb-6">
    <h2 class="text-2xl font-bold text-github-fg-default">Your Repositories</h2>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="repoList">
  </div>
</div><!-- E N D -->



<!-------
     File Explorer View
                    ---------->
<div
  data-page="explorer"
  id="explorerView"
  class="pages max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-6">


  <div class="flex items-center justify-between mb-4">
    <div class="flex items-center space-x-3">
      <div class="relative">
        <button id="branchSelector" class="inline-flex items-center px-3 py-1.5 border border-github-border-default rounded-md text-sm font-medium text-github-fg-default bg-github-btn-secondary-bg hover:bg-github-btn-secondary-hover transition-colors">
          <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 16 16">
            <path d="M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z" />
          </svg>
          <span id="currentBranch">main</span>
          <svg class="w-4 h-4 ml-1 text-github-fg-muted" fill="currentColor" viewBox="0 0 16 16">
            <path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z" />
          </svg>
        </button>
        <div id="branchDropdown" class="hidden absolute z-10 mt-1 w-56 bg-github-canvas-overlay border border-github-border-default rounded-md shadow-lg">
          <div class="p-1">
            <input type="text" placeholder="Find or create branch..." class="w-full px-2 py-1 mb-1 bg-github-canvas-inset border border-github-border-default rounded text-sm text-github-fg-default">
            <div class="max-h-60 overflow-y-auto">
              <div class="px-2 py-1 text-sm text-github-fg-default hover:bg-github-canvas-subtle cursor-pointer">main</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="flex items-center space-x-2">
      <button data-action="create-file" class="inline-flex items-center px-3 py-1.5 bg-github-btn-primary-bg hover:bg-github-btn-primary-hover text-white rounded-md text-sm font-medium transition-colors">
        <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 16 16">
          <path d="M7.75 2a.75.75 0 0 1 .75.75V7h4.25a.75.75 0 0 1 0 1.5H8.5v4.25a.75.75 0 0 1-1.5 0V8.5H2.75a.75.75 0 0 1 0-1.5H7V2.75A.75.75 0 0 1 7.75 2Z" />
        </svg>
        New
      </button>
      <button class="inline-flex items-center px-3 py-1.5 border border-github-border-default rounded-md text-sm font-medium text-github-fg-default bg-github-btn-secondary-bg hover:bg-github-btn-secondary-hover transition-colors">
        <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 16 16">
          <path d="M2.75 14A1.75 1.75 0 0 1 1 12.25v-2.5a.75.75 0 0 1 1.5 0v2.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25v-2.5a.75.75 0 0 1 1.5 0v2.5A1.75 1.75 0 0 1 13.25 14Z" />
          <path d="M7.25 7.689V2a.75.75 0 0 1 1.5 0v5.689l1.97-1.969a.749.749 0 1 1 1.06 1.06l-3.25 3.25a.749.749 0 0 1-1.06 0L4.22 6.78a.749.749 0 1 1 1.06-1.06l1.97 1.969Z" />
        </svg>
        Code
      </button>
    </div>
  </div>

  <div class="bg-github-canvas-overlay border border-github-border-default rounded-lg overflow-hidden">
    <div class="px-4 py-3 border-b border-github-border-muted bg-github-canvas-overlay">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-3">
          <img src="https://github.com/github.png" alt="User" class="w-6 h-6 rounded-full">
          <div class="flex items-center space-x-2">
            <span class="text-github-fg-default font-medium">
              <!-- FAR LEFT SIDE -->
            </span>
            <span class="text-github-fg-default">
              <!-- LEFT SIDE -->
              
              <button
                  onclick="showImportModal()"
                  class="flex items-center gap-2 px-4 py-2 bg-github-canvas-overlay hover:bg-github-canvas-subtle border border-github-border-default rounded-lg transition-all"
                  data-tooltip="Import from URL">
                <i class="fas fa-download"></i>
                <span class="hidden sm:inline">Import</span>
              </button>
              
            </span>
          </div>
        </div>
        <div class="flex items-center space-x-4 text-sm text-github-fg-muted">
          <span id="lastCommitTime">
            <!-- RIGHT SIDE -->
          </span>
          <span class="font-mono" id="commitHash">
            <!-- FAR RIGHT SIDE -->
            
            <button
                onclick="showUploadModal()"
                class="flex items-center gap-2 px-4 py-2 bg-github-success-emphasis hover:bg-github-success-fg text-white rounded-lg transition-all"
                data-tooltip="Upload files (Ctrl+U)">
              <i class="fas fa-upload"></i>
              <span class="hidden sm:inline">Upload</span>
            </button>

          </span>
        </div>
      </div>
    </div>

    <div class="overflow-x-auto">
      <table class="w-full">
        <thead class="bg-github-tableHeader">
          <tr>
            <th class="px-4 py-2 text-left text-sm font-medium text-github-fg-default">Name</th>
            <th class="px-4 py-2 text-left text-sm font-medium text-github-fg-default">Last commit message</th>
            <th class="px-4 py-2 text-right text-sm font-medium text-github-fg-default">Updated</th>
          </tr>
        </thead>
        <tbody id="fileListBody" class="divide-y divide-github-border-muted">
        </tbody>
      </table>
    </div>
  </div>

  <div class="mt-8 grid grid-cols-1 lg:grid-cols-3 gap-6">
    <div class="lg:col-span-2">
      <div class="bg-github-canvas-overlay border border-github-border-default rounded-lg p-6">
        <div class="flex items-center justify-between mb-4">
          <h2 class="text-lg font-semibold text-github-fg-default">README.md</h2>
          <button class="text-github-fg-muted hover:text-github-fg-default">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16">
              <path d="M8 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z" />
            </svg>
          </button>
        </div>
        <div class="prose prose-invert max-w-none" id="readmeContent">
          <h1>GitDev</h1>
          <p>A professional file explorer and editor interface that mimics GitHub's design and functionality with local storage.</p>
        </div>
      </div>
    </div>

    <div class="space-y-6">
      <div class="bg-github-canvas-overlay border border-github-border-default rounded-lg p-4">
        <h3 class="font-semibold text-github-fg-default mb-3">About</h3>
        <p class="text-sm text-github-fg-muted mb-4" id="repoDescription">GitDev with Local Storage</p>
        <div class="space-y-2 text-sm">
          <div class="flex items-center space-x-2">
            <svg class="w-4 h-4 text-github-fg-muted" fill="currentColor" viewBox="0 0 16 16">
              <path d="M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z" />
            </svg>
            <span class="text-github-fg-muted">Local file management system</span>
          </div>
        </div>
      </div>

      <div class="bg-github-canvas-overlay border border-github-border-default rounded-lg p-4">
        <h3 class="font-semibold text-github-fg-default mb-3">Languages</h3>
        <div class="space-y-2" id="languageStats">
          <div class="flex items-center justify-between text-sm">
            <div class="flex items-center space-x-2">
              <div class="w-3 h-3 rounded-full bg-orange-500"></div>
              <span class="text-github-fg-default">HTML</span>
            </div>
            <span class="text-github-fg-muted">47.2%</span>
          </div>
          <div class="flex items-center justify-between text-sm">
            <div class="flex items-center space-x-2">
              <div class="w-3 h-3 rounded-full bg-yellow-400"></div>
              <span class="text-github-fg-default">JavaScript</span>
            </div>
            <span class="text-github-fg-muted">43.8%</span>
          </div>
          <div class="flex items-center justify-between text-sm">
            <div class="flex items-center space-x-2">
              <div class="w-3 h-3 rounded-full bg-blue-500"></div>
              <span class="text-github-fg-default">CSS</span>
            </div>
            <span class="text-github-fg-muted">7.0%</span>
          </div>
          <div class="flex items-center justify-between text-sm">
            <div class="flex items-center space-x-2">
              <div class="w-3 h-3 rounded-full bg-purple-500"></div>
              <span class="text-github-fg-default">Other</span>
            </div>
            <span class="text-github-fg-muted">2.0%</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div><!-- E N D -->




<!-------
     File Viewer & File Editor
                          ---->
<div
  data-page="file"
  class="pages">

</div><!-- E N D -->




</main>
<!--
===================================================
  E N D  E N D  E N D  E N D  E N D  E N D  E N D
===================================================-->


  <!-- NEW FLOATING NAVBAR -->
  <div id="floatingNavOverlay" class="floating-nav-overlay" aria-hidden="true"></div>
  
  <nav id="floatingNavbar" class="floating-navbar" role="navigation" aria-label="Main floating navigation">
    <div class="floating-nav-main">
      <button class="nav-item" data-nav-action="home" aria-label="Home">
        <i class="fas fa-home"></i>
        <span class="nav-label">Home</span>
        <div class="ripple-container"></div>
      </button>
      
      <button class="nav-item" data-nav-action="code" aria-label="Code">
        <i class="fas fa-code"></i>
        <span class="nav-label">Code</span>
        <div class="ripple-container"></div>
      </button>
      
      <button class="nav-item nav-item-primary" id="menuToggleBtn" data-nav-action="menu" aria-label="Toggle menu" aria-expanded="false">
        <i class="fas fa-th"></i>
        <span class="nav-label">Menu</span>
        <div class="ripple-container"></div>
      </button>
      
      <button class="nav-item" data-nav-action="search" aria-label="Search">
        <i class="fas fa-search"></i>
        <span class="nav-label">Search</span>
        <div class="ripple-container"></div>
      </button>
      
      <button class="nav-item" data-nav-action="settings" aria-label="Settings">
        <i class="fas fa-cog"></i>
        <span class="nav-label">Settings</span>
        <div class="ripple-container"></div>
      </button>
    </div>
    
    <div class="floating-nav-menu" id="floatingNavMenu" role="dialog" aria-labelledby="menuTitle" aria-modal="true">
      <div class="menu-container">
        <div class="menu-header">
          <h2 id="menuTitle" class="menu-title">Navigation & Tools</h2>
          <button class="menu-close" id="menuCloseBtn" aria-label="Close menu">
            <i class="fas fa-times"></i>
          </button>
        </div>
        
        <div class="menu-content">
          <!-- Profile Section -->
          <section class="menu-section profile-section">
            <div class="profile-card">
              <img src="https://dev.wuaze.com/banner.png" alt="Profile" class="profile-avatar" />
              <div class="profile-info">
                <h3 class="profile-name">GitDev</h3>
                <p class="profile-username">GitHub File Manager</p>
                <p class="profile-note">Files stored in your GitHub repository</p>
              </div>
            </div>
          </section>

          <!-- Navigation Grid -->
          <section class="menu-section">
            <h3 class="section-title">
              <i class="fas fa-compass section-icon"></i>
              Navigation
            </h3>
            <div class="menu-grid">
              <button class="menu-card" data-action="show-repo-selector">
                <div class="card-icon">
                  <i class="fas fa-folder"></i>
                </div>
                <div class="card-content">
                  <h4 class="card-title">Repositories</h4>
                  <p class="card-description">Browse your repos</p>
                  <span class="card-badge" id="menuRepoCount">0</span>
                </div>
              </button>
              
              <button class="menu-card" data-action="navigate-root">
                <div class="card-icon">
                  <i class="fas fa-home"></i>
                </div>
                <div class="card-content">
                  <h4 class="card-title">Root</h4>
                  <p class="card-description">Go to root directory</p>
                </div>
              </button>
              
              <button class="menu-card" data-action="show-branches">
                <div class="card-icon">
                  <i class="fas fa-code-branch"></i>
                </div>
                <div class="card-content">
                  <h4 class="card-title">Branches</h4>
                  <p class="card-description">Manage branches</p>
                  <span class="card-badge" id="menuBranchCount">1</span>
                </div>
              </button>
              
              <button class="menu-card" data-action="show-pull-requests">
                <div class="card-icon">
                  <i class="fas fa-code-pull-request"></i>
                </div>
                <div class="card-content">
                  <h4 class="card-title">Pull Requests</h4>
                  <p class="card-description">View PRs</p>
                  <span class="card-badge">0</span>
                </div>
              </button>
            </div>
          </section>

          <!-- Quick Actions -->
          <section class="menu-section">
            <h3 class="section-title">
              <i class="fas fa-bolt section-icon"></i>
              Quick Actions
            </h3>
            <div class="menu-grid">
              <button class="menu-card" data-action="create-file">
                <div class="card-icon card-icon-success">
                  <i class="fas fa-file-plus"></i>
                </div>
                <div class="card-content">
                  <h4 class="card-title">New File</h4>
                  <p class="card-description">Create a new file</p>
                </div>
              </button>
              
              <button class="menu-card" data-action="show-upload-modal">
                <div class="card-icon card-icon-primary">
                  <i class="fas fa-upload"></i>
                </div>
                <div class="card-content">
                  <h4 class="card-title">Upload</h4>
                  <p class="card-description">Upload files</p>
                </div>
              </button>
              
              <button class="menu-card" data-action="show-import-modal">
                <div class="card-icon card-icon-info">
                  <i class="fas fa-download"></i>
                </div>
                <div class="card-content">
                  <h4 class="card-title">Import</h4>
                  <p class="card-description">Import from URL</p>
                </div>
              </button>
              
              <button class="menu-card" data-action="show-create-folder">
                <div class="card-icon card-icon-warning">
                  <i class="fas fa-folder-plus"></i>
                </div>
                <div class="card-content">
                  <h4 class="card-title">New Folder</h4>
                  <p class="card-description">Create folder</p>
                </div>
              </button>
            </div>
          </section>

          <!-- Recent Files -->
          <section class="menu-section">
            <h3 class="section-title">
              <i class="fas fa-clock section-icon"></i>
              Recent Files
              <button class="section-action" onclick="refreshRecentFiles()">
                <i class="fas fa-sync-alt"></i>
              </button>
            </h3>
            <div class="recent-files-list" id="menuRecentFiles">
              <!-- Recent files will be populated here -->
            </div>
          </section>

          <!-- Statistics -->
          <section class="menu-section">
            <h3 class="section-title">
              <i class="fas fa-chart-bar section-icon"></i>
              Statistics
            </h3>
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-icon stat-icon-files">
                  <i class="fas fa-file"></i>
                </div>
                <div class="stat-content">
                  <div class="stat-value" id="menuStatsFiles">0</div>
                  <div class="stat-label">Files</div>
                </div>
              </div>
              
              <div class="stat-card">
                <div class="stat-icon stat-icon-commits">
                  <i class="fas fa-code-commit"></i>
                </div>
                <div class="stat-content">
                  <div class="stat-value" id="menuStatsCommits">0</div>
                  <div class="stat-label">Commits</div>
                </div>
              </div>
              
              <div class="stat-card">
                <div class="stat-icon stat-icon-storage">
                  <i class="fas fa-database"></i>
                </div>
                <div class="stat-content">
                  <div class="stat-value" id="menuStatsStorage">0 KB</div>
                  <div class="stat-label">Storage</div>
                </div>
              </div>
              
              <div class="stat-card">
                <div class="stat-icon stat-icon-branches">
                  <i class="fas fa-code-branch"></i>
                </div>
                <div class="stat-content">
                  <div class="stat-value" id="menuStatsBranches">1</div>
                  <div class="stat-label">Branches</div>
                </div>
              </div>
            </div>
          </section>

          <!-- Tools & Settings -->
          <section class="menu-section">
            <h3 class="section-title">
              <i class="fas fa-tools section-icon"></i>
              Tools & Settings
            </h3>
            <div class="tool-list">
              <button class="tool-item" onclick="toggleTheme()">
                <div class="tool-icon">
                  <i id="menuThemeIcon" class="fas fa-moon"></i>
                </div>
                <div class="tool-content">
                  <div class="tool-title">Theme</div>
                  <div class="tool-description">Toggle dark/light mode</div>
                </div>
                <div class="tool-action">
                  <i class="fas fa-chevron-right"></i>
                </div>
              </button>
              
              <button class="tool-item" onclick="showHelp()">
                <div class="tool-icon">
                  <i class="fas fa-question-circle"></i>
                </div>
                <div class="tool-content">
                  <div class="tool-title">Help</div>
                  <div class="tool-description">Documentation & support</div>
                </div>
                <div class="tool-action">
                  <i class="fas fa-chevron-right"></i>
                </div>
              </button>
              
              <button class="tool-item" onclick="showSettings()">
                <div class="tool-icon">
                  <i class="fas fa-cog"></i>
                </div>
                <div class="tool-content">
                  <div class="tool-title">Settings</div>
                  <div class="tool-description">Configure preferences</div>
                </div>
                <div class="tool-action">
                  <i class="fas fa-chevron-right"></i>
                </div>
              </button>
            </div>
          </section>
        </div>
      </div>
    </div>
  </nav>



<script>
/* ================================================
   FLOATING NAVBAR & POPOVER MENU CONTROLLER
   Premium Interactions with Fluid Animations
   ================================================ */

class FloatingNavController {
  constructor() {
    this.navbar = document.getElementById('floatingNavbar');
    this.menu = document.getElementById('floatingNavMenu');
    this.overlay = document.getElementById('floatingNavOverlay');
    this.menuToggleBtn = document.getElementById('menuToggleBtn');
    this.menuCloseBtn = document.getElementById('menuCloseBtn');
    this.mainArea = document.getElementById('mainArea');
    this.topNavbar = document.querySelector('.navbar');
    this.breadcrumbs = document.getElementById('breadCrumbsWrapper');
    
    this.isMenuOpen = false;
    this.isAnimating = false;
    
    this.init();
  }
  
  init() {
    // Bind events
    this.menuToggleBtn?.addEventListener('click', () => this.toggleMenu());
    this.menuCloseBtn?.addEventListener('click', () => this.closeMenu());
    this.overlay?.addEventListener('click', () => this.closeMenu());
    
    // Escape key to close
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && this.isMenuOpen) {
        this.closeMenu();
      }
    });
    
    // Ripple effects for nav items
    this.initRippleEffects();
    
    // Initialize menu actions
    this.initMenuActions();
    
    // Update stats on initialization
    this.updateStats();
    
    // Populate recent files
    this.populateRecentFiles();
    
    // Focus trap in menu
    this.initFocusTrap();
    
    console.log(' Floating Nav Controller initialized');
  }
  
  toggleMenu() {
    if (this.isAnimating) return;
    
    if (this.isMenuOpen) {
      this.closeMenu();
    } else {
      this.openMenu();
    }
  }
  
  openMenu() {
    if (this.isAnimating || this.isMenuOpen) return;
    
    this.isAnimating = true;
    this.isMenuOpen = true;
    
    // Add active states
    this.navbar.classList.add('menu-active');
    this.overlay.classList.add('active');
    this.menu.classList.add('active');
    this.mainArea.classList.add('menu-active');
    this.topNavbar.classList.add('menu-active');
    this.breadcrumbs?.classList.add('menu-active');
    
    // Update ARIA
    this.menuToggleBtn.setAttribute('aria-expanded', 'true');
    this.menu.setAttribute('aria-hidden', 'false');
    
    // Focus first focusable element in menu
    setTimeout(() => {
      const firstFocusable = this.menu.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
      firstFocusable?.focus();
    }, 100);
    
    // Reset animation flag after animation completes
    setTimeout(() => {
      this.isAnimating = false;
    }, 500);
    
    // Update stats when menu opens
    this.updateStats();
    this.populateRecentFiles();
    
    console.log(' Menu opened');
  }
  
  closeMenu() {
    if (this.isAnimating || !this.isMenuOpen) return;
    
    this.isAnimating = true;
    this.isMenuOpen = false;
    
    // Add closing states
    this.overlay.classList.add('closing');
    this.menu.classList.add('closing');
    this.mainArea.classList.add('menu-closing');
    this.topNavbar.classList.add('menu-closing');
    this.breadcrumbs?.classList.add('menu-closing');
    
    // Update ARIA
    this.menuToggleBtn.setAttribute('aria-expanded', 'false');
    this.menu.setAttribute('aria-hidden', 'true');
    
    // Return focus to toggle button
    this.menuToggleBtn.focus();
    
    // Remove classes after animation
    setTimeout(() => {
      this.navbar.classList.remove('menu-active');
      this.overlay.classList.remove('active', 'closing');
      this.menu.classList.remove('active', 'closing');
      this.mainArea.classList.remove('menu-active', 'menu-closing');
      this.topNavbar.classList.remove('menu-active', 'menu-closing');
      this.breadcrumbs?.classList.remove('menu-active', 'menu-closing');
      
      this.isAnimating = false;
    }, 300);
    
    console.log(' Menu closed');
  }
  
  initRippleEffects() {
    const navItems = this.navbar.querySelectorAll('.nav-item');
    
    navItems.forEach(item => {
      item.addEventListener('click', (e) => {
        const container = item.querySelector('.ripple-container');
        if (!container) return;
        
        const ripple = document.createElement('span');
        ripple.classList.add('ripple');
        
        const rect = item.getBoundingClientRect();
        const size = Math.max(rect.width, rect.height);
        const x = e.clientX - rect.left - size / 2;
        const y = e.clientY - rect.top - size / 2;
        
        ripple.style.width = ripple.style.height = `${size}px`;
        ripple.style.left = `${x}px`;
        ripple.style.top = `${y}px`;
        
        container.appendChild(ripple);
        
        setTimeout(() => ripple.remove(), 600);
      });
    });
  }
  
  initMenuActions() {
    // Get all action buttons in menu
    const actionButtons = this.menu.querySelectorAll('[data-action]');
    
    actionButtons.forEach(button => {
      button.addEventListener('click', () => {
        const action = button.getAttribute('data-action');
        this.handleMenuAction(action);
      });
    });
    
    // Navigation item actions
    const navItems = this.navbar.querySelectorAll('[data-nav-action]');
    navItems.forEach(item => {
      item.addEventListener('click', () => {
        const action = item.getAttribute('data-nav-action');
        this.handleNavAction(action);
      });
    });
  }
  
  handleMenuAction(action) {
    console.log(` Menu action: ${action}`);
    
    // Close menu first for most actions
    const actionsToKeepMenuOpen = ['refresh-stats'];
    if (!actionsToKeepMenuOpen.includes(action)) {
      this.closeMenu();
    }
    
    // Route to existing functions
    switch(action) {
      case 'show-repo-selector':
        this.navigateToPage('repo');
        break;
      case 'navigate-root':
        this.navigateToRoot();
        break;
      case 'create-file':
        this.showCreateFileModal();
        break;
      case 'show-upload-modal':
        if (typeof showUploadModal === 'function') {
          showUploadModal();
        }
        break;
      case 'show-import-modal':
        if (typeof showImportModal === 'function') {
          showImportModal();
        }
        break;
      case 'show-create-folder':
        this.showCreateFolderModal();
        break;
      case 'show-branches':
        this.showBranches();
        break;
      case 'show-pull-requests':
        this.showPullRequests();
        break;
      default:
        console.warn(`Unknown action: ${action}`);
    }
  }
  
  handleNavAction(action) {
    console.log(` Nav action: ${action}`);
    
    switch(action) {
      case 'home':
        this.navigateToPage('repo');
        break;
      case 'code':
        this.navigateToPage('explorer');
        break;
      case 'menu':
        this.toggleMenu();
        break;
      case 'search':
        if (typeof showSearchModal === 'function') {
          showSearchModal();
        }
        break;
      case 'settings':
        this.showSettings();
        break;
      default:
        console.warn(`Unknown nav action: ${action}`);
    }
  }
  
  navigateToPage(page) {
    // Hide all pages
    const pages = document.querySelectorAll('.pages');
    pages.forEach(p => {
      p.style.display = 'none';
    });
    
    // Show target page
    const targetPage = document.querySelector(`[data-page="${page}"]`);
    if (targetPage) {
      targetPage.style.display = 'block';
      console.log(` Navigated to ${page}`);
    }
  }
  
  navigateToRoot() {
    // Logic to navigate to root directory
    console.log(' Navigating to root...');
    this.navigateToPage('explorer');
    // Call your existing root navigation function if it exists
    if (typeof navigateToRoot === 'function') {
      navigateToRoot();
    }
  }
  
  showCreateFileModal() {
    const modal = document.getElementById('createFileModal');
    if (modal) {
      modal.classList.remove('hidden');
      modal.classList.add('flex');
    }
  }
  
  showCreateFolderModal() {
    console.log(' Create folder modal would open here');
    // Implement folder creation modal
  }
  
  showBranches() {
    console.log(' Branches view would open here');
    // Implement branches view
  }
  
  showPullRequests() {
    console.log(' Pull requests view would open here');
    // Implement PR view
  }
  
  showSettings() {
    console.log(' Settings would open here');
    // Implement settings panel
  }
  
  updateStats() {
    // Get stats from localStorage or your data source
    const stats = this.getStats();
    
    // Update menu stats
    document.getElementById('menuRepoCount').textContent = stats.repos;
    document.getElementById('menuBranchCount').textContent = stats.branches;
    document.getElementById('menuStatsFiles').textContent = stats.files;
    document.getElementById('menuStatsCommits').textContent = stats.commits;
    document.getElementById('menuStatsStorage').textContent = stats.storage;
    document.getElementById('menuStatsBranches').textContent = stats.branches;
    
    console.log(' Stats updated', stats);
  }
  
  getStats() {
    // Replace with your actual data retrieval logic
    try {
      const repos = JSON.parse(localStorage.getItem('repositories') || '[]');
      const currentRepo = localStorage.getItem('currentRepository');
      const repoData = currentRepo ? JSON.parse(localStorage.getItem(`repo_${currentRepo}`) || '{}') : {};
      const files = repoData.files || {};
      
      const fileCount = Object.keys(files).length;
      const commitCount = Object.values(files).reduce((sum, file) => {
        return sum + (file.commits ? file.commits.length : 0);
      }, 0);
      
      const storageUsed = new Blob([JSON.stringify(files)]).size;
      const storageKB = Math.round(storageUsed / 1024);
      
      return {
        repos: repos.length,
        files: fileCount,
        commits: commitCount,
        storage: `${storageKB} KB`,
        branches: 1 // Adjust based on your branch implementation
      };
    } catch (error) {
      console.error('Error getting stats:', error);
      return {
        repos: 0,
        files: 0,
        commits: 0,
        storage: '0 KB',
        branches: 1
      };
    }
  }
  
  populateRecentFiles() {
    const container = document.getElementById('menuRecentFiles');
    if (!container) return;
    
    const recentFiles = this.getRecentFiles();
    
    if (recentFiles.length === 0) {
      container.innerHTML = `
        <div style="text-align: center; padding: 20px; color: #636e7b;">
          <i class="fas fa-file" style="font-size: 32px; margin-bottom: 8px; opacity: 0.3;"></i>
          <p style="margin: 0; font-size: 13px;">No recent files</p>
        </div>
      `;
      return;
    }
    
    container.innerHTML = recentFiles.map(file => {
      const icon = this.getFileIcon(file.name);
      const timeAgo = this.getTimeAgo(file.lastModified);
      
      return `
        <div class="recent-file-item" data-file-path="${file.path}">
          <div class="file-icon">
            <i class="${icon}"></i>
          </div>
          <div class="file-info">
            <div class="file-name">${file.name}</div>
            <div class="file-meta">${timeAgo}</div>
          </div>
          <div class="file-action">
            <i class="fas fa-chevron-right"></i>
          </div>
        </div>
      `;
    }).join('');
    
    // Add click handlers
    container.querySelectorAll('.recent-file-item').forEach(item => {
      item.addEventListener('click', () => {
        const path = item.getAttribute('data-file-path');
        this.openFile(path);
        this.closeMenu();
      });
    });
  }
  
  getRecentFiles() {
    // Replace with your actual recent files logic
    try {
      const currentRepo = localStorage.getItem('currentRepository');
      if (!currentRepo) return [];
      
      const repoData = JSON.parse(localStorage.getItem(`repo_${currentRepo}`) || '{}');
      const files = repoData.files || {};
      
      return Object.entries(files)
        .map(([path, data]) => ({
          name: path.split('/').pop(),
          path: path,
          lastModified: data.lastModified || Date.now()
        }))
        .sort((a, b) => b.lastModified - a.lastModified)
        .slice(0, 5);
    } catch (error) {
      console.error('Error getting recent files:', error);
      return [];
    }
  }
  
  getFileIcon(filename) {
    const ext = filename.split('.').pop().toLowerCase();
    const iconMap = {
      js: 'fab fa-js-square',
      html: 'fab fa-html5',
      css: 'fab fa-css3-alt',
      json: 'fas fa-file-code',
      md: 'fab fa-markdown',
      py: 'fab fa-python',
      php: 'fab fa-php',
      sql: 'fas fa-database',
      yaml: 'fas fa-file-code',
      yml: 'fas fa-file-code',
    };
    
    return iconMap[ext] || 'fas fa-file';
  }
  
  getTimeAgo(timestamp) {
    const seconds = Math.floor((Date.now() - timestamp) / 1000);
    
    if (seconds < 60) return 'Just now';
    if (seconds < 3600) return `${Math.floor(seconds / 60)}m ago`;
    if (seconds < 86400) return `${Math.floor(seconds / 3600)}h ago`;
    if (seconds < 604800) return `${Math.floor(seconds / 86400)}d ago`;
    return `${Math.floor(seconds / 604800)}w ago`;
  }
  
  openFile(path) {
    console.log(` Opening file: ${path}`);
    // Implement file opening logic
    // Call your existing file opening function
    if (typeof openFile === 'function') {
      openFile(path);
    }
  }
  
  initFocusTrap() {
    this.menu.addEventListener('keydown', (e) => {
      if (!this.isMenuOpen) return;
      
      if (e.key === 'Tab') {
        const focusableElements = this.menu.querySelectorAll(
          'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
        );
        const firstElement = focusableElements[0];
        const lastElement = focusableElements[focusableElements.length - 1];
        
        if (e.shiftKey) {
          if (document.activeElement === firstElement) {
            lastElement.focus();
            e.preventDefault();
          }
        } else {
          if (document.activeElement === lastElement) {
            firstElement.focus();
            e.preventDefault();
          }
        }
      }
    });
  }
}

// Utility function to sync theme icon
function syncThemeIcon() {
  const theme = document.documentElement.getAttribute('data-theme');
  const isDark = theme === 'dark';
  
  // Update all theme icons
  const themeIcons = document.querySelectorAll('#themeIcon, #menuThemeIcon, #sidebarThemeIcon');
  themeIcons.forEach(icon => {
    icon.className = isDark ? 'fas fa-moon' : 'fas fa-sun';
  });
}

// Helper function for theme toggle (if not already exists)
function toggleTheme() {
  const html = document.documentElement;
  const currentTheme = html.getAttribute('data-theme');
  const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
  
  html.setAttribute('data-theme', newTheme);
  localStorage.setItem('theme', newTheme);
  
  syncThemeIcon();
  
  console.log(` Theme changed to ${newTheme}`);
}

// Helper function for help modal (if not already exists)
function showHelp() {
  alert('Help & Documentation\n\nKeyboard Shortcuts:\n- Ctrl/Cmd + K: Search\n- Escape: Close menu/modal\n\nFor more information, visit the documentation.');
}

// Helper function to refresh recent files
function refreshRecentFiles() {
  if (window.floatingNav) {
    window.floatingNav.populateRecentFiles();
    console.log(' Recent files refreshed');
  }
}

// Initialize when DOM is ready
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initFloatingNav);
} else {
  initFloatingNav();
}

function initFloatingNav() {
  window.floatingNav = new FloatingNavController();
  syncThemeIcon();
}

// Export for external use
window.FloatingNavController = FloatingNavController;
window.toggleTheme = toggleTheme;
window.showHelp = showHelp;
window.refreshRecentFiles = refreshRecentFiles;
</script>



<!-- Modals -------------------------->
<div id="createFileModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden items-center justify-center p-4">
    <div class="bg-github-canvas-overlay border border-github-border-default rounded-lg shadow-2xl w-full max-w-2xl animate-scale-in">
      <div class="px-6 py-4 border-b border-github-border-default">
        <div class="flex items-center justify-between">
          <h3 class="text-lg font-semibold text-github-fg-default">Create new file</h3>
          <button data-action="hide-create-file-modal" class="text-github-fg-muted hover:text-github-fg-default transition-colors">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16">
              <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z" />
            </svg>
          </button>
        </div>
      </div>

      <div class="p-6 space-y-6">
        <div>
          <label class="block text-sm font-medium text-github-fg-default mb-2">Name your file...</label>
          <div class="flex items-center bg-github-canvas-inset border border-github-border-default rounded-md overflow-hidden focus-within:ring-2 focus-within:ring-github-accent-emphasis focus-within:border-transparent">
            <span class="px-3 py-2 bg-github-canvas-subtle border-r border-github-border-default text-github-fg-muted text-sm font-mono" id="currentPathPrefix">Repository/</span>
            <input type="text" id="newFileName" placeholder="filename.ext" class="flex-1 px-3 py-2 bg-transparent border-none text-github-fg-default placeholder-github-fg-muted focus:outline-none text-sm">
          </div>
          <p class="mt-1 text-xs text-github-fg-muted">The file extension will determine syntax highlighting</p>
        </div>

        <div>
          <label class="block text-sm font-medium text-github-fg-default mb-2">Category (optional)</label>
          <input type="text" id="fileCategoryInput" maxlength="15" placeholder="e.g., Component, Utility, Config" class="w-full px-3 py-2 bg-github-canvas-inset border border-github-border-default rounded-md text-github-fg-default placeholder-github-fg-muted focus:outline-none focus:ring-2 focus:ring-github-accent-emphasis focus:border-transparent">
          <p class="mt-1 text-xs text-github-fg-muted">Maximum 15 characters</p>
        </div>

        <div>
          <label class="block text-sm font-medium text-github-fg-default mb-2">Tags (optional)</label>
          <div class="space-y-2">
            <div id="selectedTags" class="flex flex-wrap gap-2 min-h-[2rem]">
            </div>
            <div class="flex items-center space-x-2">
              <input type="text" id="tagInput" placeholder="Add a tag..." class="flex-1 px-3 py-2 bg-github-canvas-inset border border-github-border-default rounded-md text-github-fg-default placeholder-github-fg-muted focus:outline-none focus:ring-2 focus:ring-github-accent-emphasis focus:border-transparent text-sm">
              <button data-action="add-tag" class="px-3 py-2 bg-github-accent-emphasis hover:bg-github-accent-fg text-white rounded-md text-sm font-medium transition-colors">
                Add
              </button>
            </div>
          </div>
          <p class="mt-1 text-xs text-github-fg-muted">Press Enter or click Add to add tags</p>
        </div>

        <div>
          <label class="block text-sm font-medium text-github-fg-default mb-2">Initial content (optional)</label>
          <div id="initialContentEditor" class="border border-github-border-default rounded-sm h-20"></div>
        </div>
      </div>

      <div class="px-6 py-4 border-t border-github-border-default bg-github-canvas-subtle flex items-center justify-end space-x-3">
        <button data-action="hide-create-file-modal" class="px-4 py-2 border border-github-border-default rounded-md text-sm font-medium text-github-fg-default bg-github-btn-secondary-bg hover:bg-github-btn-secondary-hover transition-colors">
          Cancel
        </button>
        <button data-action="create-file" class="px-4 py-2 bg-github-btn-primary-bg hover:bg-github-btn-primary-hover text-white rounded-md text-sm font-medium transition-colors">
          Create file
        </button>
      </div>
    </div>
  </div>

<div id="deleteFileModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden items-center justify-center p-4">
    <div class="bg-github-canvas-overlay border border-github-border-default rounded-lg shadow-2xl w-full max-w-md animate-scale-in">
      <div class="px-6 py-4 border-b border-github-border-default">
        <div class="flex items-center justify-between">
          <h3 class="text-lg font-semibold text-github-fg-default">Delete file</h3>
          <button data-action="hide-delete-file-modal" class="text-github-fg-muted hover:text-github-fg-default transition-colors">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16">
              <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z" />
            </svg>
          </button>
        </div>
      </div>

      <div class="p-6">
        <p class="text-github-fg-default mb-4">Are you sure you want to delete <span id="fileToDeleteName" class="font-semibold">filename.ext</span>? This action cannot be undone.</p>
        <div class="flex items-center justify-end space-x-3">
          <button data-action="hide-delete-file-modal" class="px-4 py-2 border border-github-border-default rounded-md text-sm font-medium text-github-fg-default bg-github-btn-secondary-bg hover:bg-github-btn-secondary-hover transition-colors">
            Cancel
          </button>
          <button data-action="confirm-delete-file" class="px-4 py-2 bg-github-danger-fg hover:bg-red-600 text-white rounded-md text-sm font-medium transition-colors">
            Delete
          </button>
        </div>
      </div>
    </div>
  </div>
<!-- E N D -- E N D -->



<!-- PopOver Element ----------------->
<div id="commitDropdown" class="dropdown-menu hide" role="menu">
    <div class="dropdown-header">
      <svg class="header-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" width="32" height="32">
        <path fill="currentColor" d="M64 48l112 0 0 88c0 39.8 32.2 72 72 72l88 0 0 240c0 8.8-7.2 16-16 16L64 464c-8.8 0-16-7.2-16-16L48 64c0-8.8 7.2-16 16-16zM224 67.9l92.1 92.1-68.1 0c-13.3 0-24-10.7-24-24l0-68.1zM64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-261.5c0-17-6.7-33.3-18.7-45.3L242.7 18.7C230.7 6.7 214.5 0 197.5 0L64 0zm56 256c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0z"/>
      </svg>
      <div class="save-info">
        <h4 class="save-title" id="popoverTitle">Add Commit & Save</h4>
        <p class="save-subtitle" id="popoverSubtitle">Enter a commit message before saving</p>
      </div>
    </div>
    
    <div class="commit-form">
      <div class="commit-input-group">
        <label for="commitMessage" class="commit-label">Commit Message</label>
        <textarea 
          id="commitMessage" 
          class="commit-textarea" 
          placeholder="Describe what you changed..."
          rows="3"
        ></textarea>
      </div>
      
      <div class="form-actions">
        <button id="commitCancelBtn" class="btn btn-secondary">Cancel</button>
        <button id="commitSaveBtn" class="btn btn-primary">Save Changes</button>
      </div>
    </div>
  </div>
<!-- E N D -- E N D -->


<!-------
     Left & Right Sidebars
                      ------->
<div id="overlay" class="fixed inset-0 bg-black"></div>
  <aside id="leftSidebar" class="sidebar left-sidebar">
    <div class="p-4 h-full overflow-y-auto">
      <!-- User Profile -->
      <div class="profile-section">
        <img src="https://dev.wuaze.com/banner.png" alt="Profile" class="profile-avatar" />
        <div class="profile-info">
          <h3 class="profile-name">GitDev</h3>
          <span class="profile-username">GitHub File Manager</span>
        </div>
        <!-- Files are stored directly in your GitHub repository -->
      </div>

      <!-- Quick Actions -->
      <div class="mb-6">
        <span class="sidebar-title">Quick Actions</span>
        <div class="space-y-1">
          <button data-action="create-file" class="sidebar-link">
            <i class="fas fa-file mr-2"></i>
            New File
          </button>
          <button data-action="show-repo-selector" data-spa-navigate="repo" href="#repo"class="sidebar-link">
            <i class="fas fa-folder mr-2"></i>
            Browse Repositories
          </button>
          <button data-action="navigate-root" class="sidebar-link">
            <i class="fas fa-home mr-2"></i>
            Go to Root
          </button>
        </div>
      </div>

      <!-- Repository List -->
      <div class="mb-6">
        <div class="flex items-center justify-between mb-2">
          <span class="sidebar-title">Repositories</span>
          <span id="repoCount" class="text-xs text-github-fg-muted">0</span>
        </div>
        <div id="repoListSidebar" class="space-y-1">
          <!-- Repositories will be populated here -->
        </div>
      </div>

      <!-- Navigation Links -->
      <div>
        <span class="sidebar-title">Navigation</span>
        <div class="space-y-1">
          <a href="#" data-navigate="repo" class="sidebar-link">
            <i class="fas fa-code mr-2"></i>
            Code
          </a>
          <a href="#" class="sidebar-link">
            <i class="fas fa-exclamation-circle mr-2"></i>
            Issues
            <span class="ml-auto bg-github-canvas-subtle text-github-fg-default text-xs px-1.5 py-0.5 rounded-full">0</span>
          </a>
          <a href="#" class="sidebar-link">
            <i class="fas fa-code-branch mr-2"></i>
            Pull Requests
            <span class="ml-auto bg-github-canvas-subtle text-github-fg-default text-xs px-1.5 py-0.5 rounded-full">0</span>
          </a>
          <a href="#" class="sidebar-link">
            <i class="fas fa-chart-bar mr-2"></i>
            Insights
          </a>
        </div>
      </div>

      <!-- File Stats -->
      <div class="mt-6 pt-4 border-t border-github-border-muted">
        <div class="flex items-center justify-between text-sm">
          <span class="text-github-fg-muted">Files:</span>
          <span id="totalFilesCount" class="font-medium">0</span>
        </div>
        <div class="flex items-center justify-between text-sm mt-1">
          <span class="text-github-fg-muted">Storage:</span>
          <span id="totalStorage" class="font-medium">0 KB</span>
        </div>
      </div>
    </div>
  </aside>
  <aside id="rightSidebar" class="sidebar right-sidebar">
    <div class="p-4 h-full overflow-y-auto">
      <!-- Recent Files -->
      <div class="mb-6">
        <div class="flex items-center justify-between mb-2">
          <span class="sidebar-title">Recent Files</span>
          <button onclick="refreshRecentFiles()" class="text-xs text-github-accent-fg hover:underline">
            Refresh
          </button>
        </div>
        <div id="recentFilesList" class="space-y-2">
          <!-- Recent files will be populated here -->
        </div>
      </div>

      <!-- Current Repository Info -->
      <div id="currentRepoInfo" class="mb-6 hidden">
        <span class="sidebar-title">Current Repository</span>
        <div class="p-3 bg-github-canvas-subtle rounded-md mt-2">
          <h4 id="currentRepoNameSidebar" class="font-semibold text-github-fg-default mb-1"></h4>
          <p id="currentRepoDesc" class="text-xs text-github-fg-muted mb-2"></p>
          <div class="flex items-center justify-between text-xs">
            <span class="text-github-fg-muted">Branch:</span>
            <span id="currentRepoBranch" class="font-medium">main</span>
          </div>
        </div>
      </div>

      <!-- Quick Stats -->
      <div class="mb-6">
        <span class="sidebar-title">Quick Stats</span>
        <div class="grid grid-cols-2 gap-2 mt-2">
          <div class="p-3 bg-github-canvas-subtle rounded-md text-center">
            <div class="text-lg font-semibold text-github-accent-fg" id="statsFiles">0</div>
            <div class="text-xs text-github-fg-muted">Files</div>
          </div>
          <div class="p-3 bg-github-canvas-subtle rounded-md text-center">
            <div class="text-lg font-semibold text-github-success-fg" id="statsCommits">0</div>
            <div class="text-xs text-github-fg-muted">Commits</div>
          </div>
          <div class="p-3 bg-github-canvas-subtle rounded-md text-center">
            <div class="text-lg font-semibold text-github-warning-fg" id="statsBranches">1</div>
            <div class="text-xs text-github-fg-muted">Branches</div>
          </div>
          <div class="p-3 bg-github-canvas-subtle rounded-md text-center">
            <div class="text-lg font-semibold text-github-danger-fg" id="statsIssues">0</div>
            <div class="text-xs text-github-fg-muted">Issues</div>
          </div>
        </div>
      </div>

      <!-- Language Distribution -->
      <div id="languageStatsSidebar" class="hidden">
        <span class="sidebar-title">Languages</span>
        <div id="languageStatsList" class="space-y-2 mt-2">
          <!-- Language stats will be populated here -->
        </div>
      </div>

      <!-- Quick Actions Footer -->
      <div class="mt-auto pt-4 border-t border-github-border-muted">
        <div class="space-y-2">
          <button onclick="toggleTheme()" class="sidebar-link w-full text-left">
            <i id="sidebarThemeIcon" class="fas fa-moon mr-2"></i>
            Toggle Theme
          </button>
          <button onclick="showHelp()" class="sidebar-link w-full text-left">
            <i class="fas fa-question-circle mr-2"></i>
            Help & Documentation
          </button>
        </div>
      </div>
    </div>
  </aside>

<!--
<script>
// Sticky Header Manager - Enhanced version
class StickyHeaderManager {
  constructor() {
    this.navbar = document.querySelector('.navbar');
    this.breadcrumbs = document.querySelector('.breadCrumbsWrapper');
    this.coderHeader = document.querySelector('.coderHeaderWrapper');
    this.toolbar = document.querySelector('.coderToolBarWrapper');
    this.mainArea = document.getElementById('mainArea');
    this.filePage = document.querySelector('[data-page="file"]');
    
    this.lastScrollTop = 0;
    this.isCoderHeaderVisible = false;
    this.threshold = 50; // Scroll threshold for showing coder header
    
    this.init();
  }

  init() {
    if (!this.coderHeader || !this.breadcrumbs) return;
    
    // Initial setup
    this.calculatePositions();
    
    // Set initial state
    this.setInitialState();
    
    // Add scroll listener to main area
    if (this.mainArea) {
      this.mainArea.addEventListener('scroll', this.handleScroll.bind(this));
    } else {
      window.addEventListener('scroll', this.handleScroll.bind(this));
    }
    
    // Recalculate on resize
    window.addEventListener('resize', this.calculatePositions.bind(this));
    
    // Reinitialize when switching to file view
    this.setupPageObserver();
  }

  setInitialState() {
    // Initially, breadcrumbs are visible, coder header is hidden
    this.breadcrumbs.classList.remove('hidden');
    this.isCoderHeaderVisible = false;
  }

  calculatePositions() {
    // Get the position where coder header should appear
    if (this.filePage) {
      const filePageRect = this.filePage.getBoundingClientRect();
      this.coderHeaderStart = filePageRect.top + window.scrollY;
    }
  }

  handleScroll() {
    const scrollTop = this.mainArea ? this.mainArea.scrollTop : window.scrollY;
    const scrollDirection = scrollTop > this.lastScrollTop ? 'down' : 'up';
    
    // Check if we're in the file page
    const isInFilePage = this.filePage && 
      scrollTop >= this.coderHeaderStart - this.threshold;
    
    if (isInFilePage && !this.isCoderHeaderVisible) {
      // Show coder header and hide breadcrumbs
      this.showCoderHeader();
    } else if (!isInFilePage && this.isCoderHeaderVisible) {
      // Hide coder header and show breadcrumbs
      this.hideCoderHeader();
    }
    
    // Optional: Hide coder header on scroll up when at top
    if (scrollDirection === 'up' && scrollTop <= this.threshold) {
      this.hideCoderHeader();
    }
    
    this.lastScrollTop = scrollTop;
  }

  showCoderHeader() {
    this.isCoderHeaderVisible = true;
    
    // Add slight delay for smooth transition
    setTimeout(() => {
      this.breadcrumbs.classList.add('hidden');
      
      // Force reflow for smooth animation
      this.breadcrumbs.offsetHeight;
      
      // Update positions
      if (this.coderHeader) {
        this.coderHeader.style.top = `${this.navbar.offsetHeight}px`;
      }
      if (this.toolbar) {
        this.toolbar.style.top = `${this.navbar.offsetHeight + this.coderHeader.offsetHeight}px`;
      }
    }, 10);
  }

  hideCoderHeader() {
    this.isCoderHeaderVisible = false;
    
    // Add slight delay for smooth transition
    setTimeout(() => {
      this.breadcrumbs.classList.remove('hidden');
      
      // Force reflow for smooth animation
      this.breadcrumbs.offsetHeight;
      
      // Update positions
      if (this.coderHeader) {
        this.coderHeader.style.top = `${this.navbar.offsetHeight + this.breadcrumbs.offsetHeight}px`;
      }
      if (this.toolbar) {
        this.toolbar.style.top = `${this.navbar.offsetHeight + this.breadcrumbs.offsetHeight + this.coderHeader.offsetHeight}px`;
      }
    }, 10);
  }

  setupPageObserver() {
    const observer = new MutationObserver((mutations) => {
      mutations.forEach((mutation) => {
        if (mutation.type === 'childList') {
          mutation.addedNodes.forEach((node) => {
            if (node.nodeType === 1 && node.matches && node.matches('[data-page="file"]')) {
              setTimeout(() => {
                this.calculatePositions();
                this.setInitialState();
              }, 100);
            }
          });
        }
      });
    });
    
    const pagesContainer = document.getElementById('mainArea') || document.body;
    observer.observe(pagesContainer, { childList: true, subtree: true });
  }

  // Public method to manually trigger header visibility
  toggleCoderHeader(show) {
    if (show) {
      this.showCoderHeader();
    } else {
      this.hideCoderHeader();
    }
  }
}

// Initialize when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
  // Initialize sticky header manager
  window.stickyHeaderManager = new StickyHeaderManager();
  
  // Also initialize when switching pages via SPA navigation
  document.addEventListener('spa:navigate', () => {
    setTimeout(() => {
      if (window.stickyHeaderManager) {
        window.stickyHeaderManager.calculatePositions();
        window.stickyHeaderManager.setInitialState();
      }
    }, 200);
  });
});
</script>
-->

<script type="module" src="modules/index.js">
/**
 *  Main script
 */
</script>



<script id="sidebars">
const SidebarManager = {
  state: {
    isLeftSidebarOpen: false,
    isRightSidebarOpen: false,
    isDarkTheme: true,
    currentRepository: null,
    recentFiles: [],
    repositories: []
  },

  init() {
    this.setupEventListeners();
    this.loadData();
    this.checkWindowSize();
    this.setupAutoRefresh();
    this.updateRecentFiles();
    this.updateRepositoryList();
    this.updateStats();
  },

  setupEventListeners() {
    const leftSidebarTrigger = document.getElementById('leftSidebarTrigger');
    const rightSidebarTrigger = document.getElementById('rightSidebarTrigger');
    const overlay = document.getElementById('overlay');
    const body = document.body;

    if (leftSidebarTrigger) {
      leftSidebarTrigger.addEventListener('click', (e) => {
        e.stopPropagation();
        this.toggleLeftSidebar();
      });
    }

    if (rightSidebarTrigger) {
      rightSidebarTrigger.addEventListener('click', (e) => {
        e.stopPropagation();
        this.toggleRightSidebar();
      });
    }

    if (overlay) {
      overlay.addEventListener('click', () => {
        if (this.state.isLeftSidebarOpen) {
          this.closeLeftSidebar();
        }
        if (this.state.isRightSidebarOpen) {
          this.closeRightSidebar();
        }
      });
    }

    // Close sidebar with Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        if (this.state.isLeftSidebarOpen) this.closeLeftSidebar();
        if (this.state.isRightSidebarOpen) this.closeRightSidebar();
      }
    });

    document.addEventListener('click', (e) => {
      if (window.innerWidth > 1200) return;
      
      const leftSidebar = document.getElementById('leftSidebar');
      const rightSidebar = document.getElementById('rightSidebar');
      const leftTrigger = document.getElementById('leftSidebarTrigger');
      const rightTrigger = document.getElementById('rightSidebarTrigger');
      
      const isClickOnLeftTrigger = e.target === leftTrigger || leftTrigger.contains(e.target);
      const isClickOnRightTrigger = e.target === rightTrigger || rightTrigger.contains(e.target);
      const isClickInLeftSidebar = leftSidebar && leftSidebar.contains(e.target);
      const isClickInRightSidebar = rightSidebar && rightSidebar.contains(e.target);
      
      if (this.state.isLeftSidebarOpen && !isClickInLeftSidebar && !isClickOnLeftTrigger) {
        this.closeLeftSidebar();
      }
      
      if (this.state.isRightSidebarOpen && !isClickInRightSidebar && !isClickOnRightTrigger) {
        this.closeRightSidebar();
      }
    });

    window.addEventListener('resize', () => {
      this.checkWindowSize();
    });
  },

  loadData() {
    try {
      this.state.recentFiles = JSON.parse(localStorage.getItem('gitcodr_recent_files') || '[]');
      this.state.repositories = JSON.parse(localStorage.getItem('gitcodr_repositories') || '[]');
    } catch (e) {
      this.state.recentFiles = [];
      this.state.repositories = [];
    }
  },

  toggleLeftSidebar() {
    if (window.innerWidth <= 1200) {
      if (this.state.isLeftSidebarOpen) {
        this.closeLeftSidebar();
      } else {
        this.openLeftSidebar();
      }
    }
  },

  toggleRightSidebar() {
    if (window.innerWidth <= 1200) {
      if (this.state.isRightSidebarOpen) {
        this.closeRightSidebar();
      } else {
        this.openRightSidebar();
      }
    }
  },

  openLeftSidebar() {
    const leftSidebar = document.getElementById('leftSidebar');
    const overlay = document.getElementById('overlay');
    const body = document.body;
    
    this.closeRightSidebar();
    
    this.state.isLeftSidebarOpen = true;
    leftSidebar.classList.add('open');
    overlay.classList.add('active');
    body.classList.add('sidebar-open');
  },

  openRightSidebar() {
    const rightSidebar = document.getElementById('rightSidebar');
    const overlay = document.getElementById('overlay');
    const body = document.body;
    
    this.closeLeftSidebar();
    
    this.state.isRightSidebarOpen = true;
    rightSidebar.classList.add('open');
    overlay.classList.add('active');
    body.classList.add('sidebar-open');
  },

  closeLeftSidebar() {
    const leftSidebar = document.getElementById('leftSidebar');
    const overlay = document.getElementById('overlay');
    const body = document.body;
    
    this.state.isLeftSidebarOpen = false;
    leftSidebar.classList.remove('open');
    
    if (!this.state.isRightSidebarOpen) {
      overlay.classList.remove('active');
      body.classList.remove('sidebar-open');
    }
  },

  closeRightSidebar() {
    const rightSidebar = document.getElementById('rightSidebar');
    const overlay = document.getElementById('overlay');
    const body = document.body;
    
    this.state.isRightSidebarOpen = false;
    rightSidebar.classList.remove('open');
    
    if (!this.state.isLeftSidebarOpen) {
      overlay.classList.remove('active');
      body.classList.remove('sidebar-open');
    }
  },

  checkWindowSize() {
    const leftSidebar = document.getElementById('leftSidebar');
    const rightSidebar = document.getElementById('rightSidebar');
    const overlay = document.getElementById('overlay');
    const mainContentWrapper = document.getElementById('mainArea');
    const body = document.body;
    
    if (window.innerWidth <= 1200) {
      leftSidebar.classList.remove('open');
      rightSidebar.classList.remove('open');
      this.state.isLeftSidebarOpen = false;
      this.state.isRightSidebarOpen = false;
      overlay.classList.remove('active');
      body.classList.remove('sidebar-open');
      
      if (mainContentWrapper) {
        mainContentWrapper.style.marginLeft = '0';
        mainContentWrapper.style.marginRight = '0';
      }
    } else {
      leftSidebar.classList.remove('open');
      rightSidebar.classList.remove('open');
      this.state.isLeftSidebarOpen = false;
      this.state.isRightSidebarOpen = false;
      overlay.classList.remove('active');
      body.classList.remove('sidebar-open');
      
      if (mainContentWrapper) {
        mainContentWrapper.style.marginLeft = 'var(--sidebar-width)';
        mainContentWrapper.style.marginRight = 'var(--sidebar-width)';
      }
    }
  },

  toggleTheme() {
    const html = document.documentElement;
    const themeIcons = document.querySelectorAll('#themeIcon, #sidebarThemeIcon');
    
    this.state.isDarkTheme = !this.state.isDarkTheme;
    
    if (this.state.isDarkTheme) {
      html.setAttribute('data-theme', 'dark');
      themeIcons.forEach(icon => {
        icon.className = 'fas fa-moon';
      });
    } else {
      html.setAttribute('data-theme', 'light');
      themeIcons.forEach(icon => {
        icon.className = 'fas fa-sun';
      });
    }
    
    localStorage.setItem('gitcodr_theme', this.state.isDarkTheme ? 'dark' : 'light');
  },

  updateRecentFiles() {
    const recentFilesList = document.getElementById('recentFilesList');
    if (!recentFilesList) return;
    
    this.loadData();
    
    if (this.state.recentFiles.length === 0) {
      recentFilesList.innerHTML = '<div class="text-center py-4 text-github-fg-muted text-sm"><i class="fas fa-file text-lg mb-2 block"></i>No recent files</div>';
    } else {
      recentFilesList.innerHTML = this.state.recentFiles.slice(0, 5).map(file => `<div class="recent-file-item" onclick="SidebarManager.openRecentFile('${file.repoName}', '${file.filePath}', '${file.fileName}')"><i class="fas fa-file recent-file-icon"></i><div class="flex-1 min-w-0"><div class="text-sm text-github-fg-default truncate">${file.fileName}</div><div class="text-xs text-github-fg-muted truncate">${file.repoName}</div></div><div class="text-xs text-github-fg-muted">${this.formatTimeAgo(file.timestamp)}</div></div>`).join('');
    }
  },

  updateRepositoryList() {
    const repoListSidebar = document.getElementById('repoListSidebar');
    const repoCount = document.getElementById('repoCount');
    
    if (!repoListSidebar) return;
    
    this.loadData();
    
    if (this.state.repositories.length === 0) {
      repoListSidebar.innerHTML = '<div class="text-center py-2 text-sm text-github-fg-muted">No repositories yet</div>';
    } else {
      repoListSidebar.innerHTML = this.state.repositories.map(repo => `<div class="repo-item ${this.state.currentRepository === repo.name ? 'active' : ''}" onclick="SidebarManager.selectRepository('${repo.name}')"><i class="fas fa-folder repo-icon ${repo.visibility === 'public' ? 'public' : ''}"></i><span class="flex-1 truncate">${repo.name}</span><span class="text-xs text-github-fg-muted">${this.formatDate(repo.created)}</span></div>`).join('');
    }
    
    if (repoCount) {
      repoCount.textContent = this.state.repositories.length.toString();
    }
  },

  updateStats() {
    const totalFilesCount = document.getElementById('totalFilesCount');
    const totalStorage = document.getElementById('totalStorage');
    const currentRepoNameSidebar = document.getElementById('currentRepoNameSidebar');
    const currentRepoDesc = document.getElementById('currentRepoDesc');
    const currentRepoInfo = document.getElementById('currentRepoInfo');
    const statsFiles = document.getElementById('statsFiles');
    const statsCommits = document.getElementById('statsCommits');
    const statsBranches = document.getElementById('statsBranches');
    const statsIssues = document.getElementById('statsIssues');
    
    let totalFiles = 0;
    let totalSize = 0;
    
    this.state.repositories.forEach(repo => {
      try {
        const repoData = JSON.parse(localStorage.getItem(`gitcodr_repo_${repo.name}`) || '{}');
        const fileCount = Object.keys(repoData).length;
        totalFiles += fileCount;
        
        Object.values(repoData).forEach(file => {
          totalSize += file.size || 0;
        });
      } catch (e) {
        console.warn(`Error processing repo ${repo.name}:`, e);
      }
    });
    
    if (totalFilesCount) totalFilesCount.textContent = totalFiles.toString();
    if (totalStorage) totalStorage.textContent = this.formatFileSize(totalSize);
    if (statsFiles) statsFiles.textContent = totalFiles.toString();
    if (statsCommits) statsCommits.textContent = Math.floor(totalFiles * 1.5).toString();
    if (statsBranches) statsBranches.textContent = this.state.repositories.length.toString();
    if (statsIssues) statsIssues.textContent = '0';
    
    if (this.state.currentRepository) {
      const repo = this.state.repositories.find(r => r.name === this.state.currentRepository);
      if (repo) {
        if (currentRepoNameSidebar) currentRepoNameSidebar.textContent = repo.name;
        if (currentRepoDesc) currentRepoDesc.textContent = repo.description || 'No description';
        if (currentRepoInfo) currentRepoInfo.classList.remove('hidden');
      }
    } else {
      if (currentRepoInfo) currentRepoInfo.classList.add('hidden');
    }
  },

  selectRepository(repoName) {
    this.state.currentRepository = repoName;
    this.updateRepositoryList();
    this.updateStats();
    
    if (typeof openRepository === 'function') {
      openRepository(repoName);
    }
    
    if (window.innerWidth <= 1200) {
      this.closeLeftSidebar();
    }
  },

  openRecentFile(repoName, filePath, fileName) {
    this.state.currentRepository = repoName;
    this.updateRepositoryList();
    this.updateStats();
    
    if (typeof openRecentFile === 'function') {
      openRecentFile(repoName, filePath, fileName);
    }
    
    if (window.innerWidth <= 1200) {
      this.closeRightSidebar();
    }
  },

  refreshRecentFiles() {
    this.loadData();
    this.updateRecentFiles();
  },

  addToRecentFiles(fileName, repoName, filePath) {
    const existingIndex = this.state.recentFiles.findIndex(f => f.filePath === filePath && f.repoName === repoName);
    
    if (existingIndex !== -1) {
      this.state.recentFiles.splice(existingIndex, 1);
    }
    
    this.state.recentFiles.unshift({
      fileName,
      repoName,
      filePath,
      timestamp: Date.now()
    });
    
    if (this.state.recentFiles.length > 10) {
      this.state.recentFiles = this.state.recentFiles.slice(0, 10);
    }
    
    localStorage.setItem('gitcodr_recent_files', JSON.stringify(this.state.recentFiles));
    this.updateRecentFiles();
  },

  setupAutoRefresh() {
    setInterval(() => {
      this.loadData();
      this.updateRecentFiles();
      this.updateRepositoryList();
      this.updateStats();
    }, 30000);
  },

  formatDate(timestamp) {
    if (!timestamp) return '';
    const date = new Date(timestamp);
    return date.toLocaleDateString();
  },

  formatTimeAgo(timestamp) {
    if (!timestamp) return '';
    const now = new Date();
    const date = new Date(timestamp);
    const diff = now - date;
    
    if (diff < 60000) return 'now';
    if (diff < 3600000) return Math.floor(diff / 60000) + 'm';
    if (diff < 86400000) return Math.floor(diff / 3600000) + 'h';
    if (diff < 604800000) return Math.floor(diff / 86400000) + 'd';
    return Math.floor(diff / 604800000) + 'w';
  },

  formatFileSize(bytes) {
    if (typeof bytes !== 'number') return '0 KB';
    const sizes = ['Bytes', 'KB', 'MB', 'GB'];
    if (bytes === 0) return '0 Bytes';
    const i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));
    return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i];
  },

  updateAll() {
    this.loadData();
    this.updateRecentFiles();
    this.updateRepositoryList();
    this.updateStats();
  },

  setCurrentRepository(repoName) {
    this.state.currentRepository = repoName;
    this.updateRepositoryList();
    this.updateStats();
  }
};

document.addEventListener('DOMContentLoaded', () => {
  SidebarManager.init();
  
  const savedTheme = localStorage.getItem('gitcodr_theme');
  if (savedTheme === 'light') {
    SidebarManager.state.isDarkTheme = false;
    SidebarManager.toggleTheme();
  }
});

function updateSidebarAfterFileOperation(repoName, fileName, filePath) {
  if (SidebarManager) {
    SidebarManager.addToRecentFiles(fileName, repoName, filePath);
    SidebarManager.updateStats();
  }
}

function updateSidebarAfterRepoOperation() {
  if (SidebarManager) {
    SidebarManager.updateRepositoryList();
    SidebarManager.updateStats();
  }
}
</script>


<script id="serviceWorker">
class ServiceWorkerManager {
    constructor() {
        this.registration = null;
        this.init();
    }
    
    async init() {
        if ('serviceWorker' in navigator) {
            await this.register();
            this.setupListeners();
        }
    }
    
    async register() {
        try {
            this.registration = await navigator.serviceWorker.register('https://clockblocked.github.io/bytes/webApp/serviceWorker.js', {
                scope: '/',
                updateViaCache: 'all'
            });
            
            console.log(' Service Worker registered:', this.registration);
            
            if (this.registration.waiting) {
                this.showUpdateReady();
            }
            
            return this.registration;
        } catch (error) {
            console.error(' Service Worker registration failed:', error);
            return null;
        }
    }
    
    setupListeners() {
        this.registration.addEventListener('updatefound', () => {
            const newWorker = this.registration.installing;
            console.log(' Update found, installing new Service Worker');
            
            newWorker.addEventListener('statechange', () => {
                if (newWorker.state === 'installed') {
                    if (navigator.serviceWorker.controller) {
                        this.showUpdateReady();
                    } else {
                        console.log(' Content is cached for offline use.');
                    }
                }
            });
        });
        
        navigator.serviceWorker.addEventListener('controllerchange', () => {
            console.log(' New Service Worker controlling the page');
        });
        
        navigator.serviceWorker.addEventListener('message', event => {
            this.handleMessage(event.data);
        });
    }
    
    showUpdateReady() {
        const updateDialog = document.createElement('div');
        updateDialog.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: #238636;
            color: white;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            z-index: 9999;
            display: flex;
            align-items: center;
            gap: 1rem;
            max-width: 400px;
        `;
        
        updateDialog.innerHTML = `
            <span> New version available</span>
            <button style="
                background: white;
                color: #238636;
                border: none;
                padding: 0.5rem 1rem;
                border-radius: 4px;
                cursor: pointer;
                font-weight: bold;
            ">Update</button>
            <button style="
                background: transparent;
                color: white;
                border: 1px solid white;
                padding: 0.5rem;
                border-radius: 4px;
                cursor: pointer;
            "></button>
        `;
        
        document.body.appendChild(updateDialog);
        
        const updateBtn = updateDialog.querySelector('button');
        const closeBtn = updateDialog.querySelector('button:last-child');
        
        updateBtn.addEventListener('click', () => {
            if (this.registration.waiting) {
                this.registration.waiting.postMessage({ type: 'SKIP_WAITING' });
            }
            window.location.reload();
        });
        
        closeBtn.addEventListener('click', () => {
            updateDialog.remove();
        });
    }
    
    handleMessage(data) {
        console.log(' Message from Service Worker:', data);
        
        switch (data.type) {
            case 'CACHE_UPDATED':
                console.log('Cache updated:', data.payload);
                break;
            case 'OFFLINE':
                this.showOfflineWarning();
                break;
        }
    }
    
    showOfflineWarning() {
        const indicator = document.createElement('div');
        indicator.id = 'offline-indicator';
        indicator.style.cssText = `
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #f0ad4e;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            z-index: 9998;
        `;
        indicator.textContent = ' Offline';
        document.body.appendChild(indicator);
        
        setTimeout(() => indicator.remove(), 3000);
    }
    
    async checkForUpdates() {
        if (this.registration) {
            await this.registration.update();
        }
    }
    
    async unregister() {
        if (this.registration) {
            const unregistered = await this.registration.unregister();
            console.log('Service Worker unregistered:', unregistered);
        }
    }
}

document.addEventListener('DOMContentLoaded', () => {
    swManager = new ServiceWorkerManager();
    
    const installBtn = document.createElement('button');
    installBtn.id = 'pwa-install-btn';
    installBtn.innerHTML = ' Install App';
    installBtn.style.cssText = `
        position: fixed;
        bottom: 20px;
        left: 20px;
        background: #58a6ff;
        color: white;
        border: none;
        padding: 0.75rem 1.5rem;
        border-radius: 6px;
        cursor: pointer;
        z-index: 9997;
        display: none;
        box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    `;
    document.body.appendChild(installBtn);
});

let deferredPrompt;
window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    
    const installBtn = document.getElementById('pwa-install-btn');
    if (installBtn) {
        installBtn.style.display = 'block';
        
        installBtn.addEventListener('click', async () => {
            installBtn.style.display = 'none';
            
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                console.log(`User response to install prompt: ${outcome}`);
                deferredPrompt = null;
            }
        });
    }
});

window.addEventListener('appinstalled', () => {
    console.log('PWA installed successfully');
    const installBtn = document.getElementById('pwa-install-btn');
    if (installBtn) installBtn.style.display = 'none';
});
</script>  


<script id="share">
    if (window.location.search.includes('share')) {
        window.addEventListener('load', async () => {
            const formData = await getSharedData();
            if (formData) {
                handleSharedFiles(formData);
            }
        });
    }

    async function getSharedData() {
        // process files shared via Web Share Target API
    }

    function handleSharedFiles(formData) {
        // Process and upload shared files
        console.log('Processing shared files...');
    }
</script>


<script id="debugger" src="https://cdn.jsdelivr.net/npm/eruda">
/**
 *  E R U D A
 */
</script>
<script>
eruda.init();
</script>






</body>
</html>